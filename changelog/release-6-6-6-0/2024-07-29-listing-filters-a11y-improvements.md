---
title: Improve listing filter accessibility for screen readers
issue: NEXT-26717
---
# Storefront
* Added new include parameter `ariaLiveUpdates` (boolean) to `Resources/views/storefront/component/product/listing.html.twig`
* Added the following new options to `Resources/app/storefront/src/plugin/listing/listing.plugin.js`:
  * `ariaLiveUpdates` (default: `true`)
  * `ariaLiveSelector` (element selector that holds the `aria-live` region)
  * `cmsProductListingResultsSelector` (element of the CMS listing results)
  * `snippets.resetAllFiltersAriaLabel` (`aria-label` button text to remove all filters)
  * `snippets.removeFilterAriaLabel` (`aria-label` button text to remove a single filter)

* Added new include parameter `ariaLabel` (string) to the following filter templates:
    * `Resources/views/storefront/component/listing/filter/filter-multi-select.html.twig`
    * `Resources/views/storefront/component/listing/filter/filter-property-select.html.twig`
    * `Resources/views/storefront/component/listing/filter/filter-range.html.twig`
    * `Resources/views/storefront/component/listing/filter/filter-rating-select.html.twig`

* Added new include parameters `altText` and `altTextActive` to `Resources/views/storefront/component/listing/filter/filter-boolean.html.twig`
* Added new translation options `snippets.altText` and `snippets.altTextActive` to `Resources/app/storefront/src/plugin/listing/filter-boolean.plugin.js`

* Added new translation option `snippets.ariaLabel` to `Resources/app/storefront/src/plugin/listing/filter-multi-select.plugin.js`
* Added new translation option `snippets.ariaLabel` to `Resources/app/storefront/src/plugin/listing/filter-rating-select.plugin.js`
___
# Upgrade Information

## Accessibility improvements for listing filters
### Additional aria-label and alt texts for screen readers to explain listing filter components
The listing filter components (dropdown buttons, e.g. "Manufacturer") now support additional `ariaLabel` parameters.
Those will render an `aria-label` attribute for screen readers that explain the filter buttons purpose without altering the appearance of the filter toggle button.

For example: The `filter-multi-select.html.twig` template now supports an additional `ariaLabel` parameter.
```diff
{% sw_include '@Storefront/storefront/component/listing/filter/filter-multi-select.html.twig' with {
    elements: manufacturersSorted,
    sidebar: sidebar,
    name: 'manufacturer',
    displayName: 'Manufacturer',
+    ariaLabel: 'Filter by manufacturer'
} %}
```

This will render the `aria-label` on the filter toggle button. When focusing the button, the screen reader will read "Filter by manufacturer" instead of just "Manufacturer".
```diff
<button 
    class="filter-panel-item-toggle btn"
+    aria-label="Filter by manufacturer"
    aria-expanded="false"
    data-bs-toggle="dropdown"
    data-boundary="viewport"
    aria-haspopup="true">
    Manufacturer
</button>    
```

### Aria-live updates for listing filters
When a listing filter is applied and the products results are updated, the screen reader should announce that the product results have been changed.
To achieve this, the filter panel template `Resources/views/storefront/component/listing/filter-panel.html.twig` now has an `aria-live` region. 
The live region will be updated when a listing filter is applied or removed. Whenever a live region is updated, it will be announced by the screen reader.

The live region is not visible for the user and can be switched on or off via the include parameter `ariaLiveUpdates` of `Resources/views/storefront/component/listing/filter-panel.html.twig`.

```diff
{% sw_include '@Storefront/storefront/component/listing/filter-panel.html.twig' with {
    listing: listing,
    sidebar: sidebar,
+    ariaLiveUpdates: true
} %}
```

```diff
<div class="filter-panel">
    <div class="filter-panel-items-container" role="list" aria-label="Filter">
        <!-- Available filters are shown here. -->
    </div>

    <div class="filter-panel-active-container">
        <!-- Active filters are shown here. -->
    </div>

+    <!-- Aria live region to tell the screen reader how many product results are shown after a filter was selected or deselected. -->
+    <div class="filter-panel-aria-live visually-hidden" aria-live="polite" aria-atomic="true">
+        <!-- The live region content is generated by the `ListingPlugin` -->
+        <!-- For example: "Showing 6 products" -->
+    </div>
</div>
```