<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
{% block sw_mail_header_footer_list_grid %}
<sw-card
    :title="$tc('sw-mail-header-footer.list.textMailHeaderFooterOverview')"
    position-identifier="sw-mail-header-footer-list"
>

    <template>
        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
        {% block sw_mail_header_footer_list_grid_empty_state %}
        <sw-empty-state
            v-if="!isLoading && !showListing"
            :title="$tc('sw-mail-header-footer.list.emptyStateTitle')"
            :subline="$tc('sw-mail-header-footer.list.emptyStateSubTitle')"
            :absolute="false"
        >

            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
            {% block sw_mail_header_footer_list_grid_empty_state_icon %}
            <template #icon>
                <img
                    :src="'/administration/static/img/empty-states/settings-empty-state.svg' | asset"
                    :alt="$tc('sw-mail-header-footer.list.emptyStateTitle')"
                >
            </template>
            {% endblock %}

        </sw-empty-state>
        {% endblock %}
    </template>

    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
    {% block sw_mail_template_list_grid %}
    <template #grid>
        <sw-entity-listing
            v-if="isLoading || showListing"
            id="mailHeaderFooterGrid"
            ref="listing"
            class="sw-mail-templates-list-grid"
            detail-route="sw.mail.template.detail_head_foot"
            identifier="sw-mail-header-footer-list"
            :items="mailHeaderFooters"
            :columns="getListColumns()"
            :repository="mailHeaderFooterRepository"
            :full-page="false"
            :is-loading="isLoading"
            :allow-view="acl.can('mail_templates.viewer')"
            :allow-edit="acl.can('mail_templates.editor')"
            :allow-delete="acl.can('mail_templates.deleter')"
            :show-selection="acl.can('mail_templates.deleter')"
            :skeleton-item-amount="skeletonItemAmount"
            @update-records="updateRecords"
        >
            <template #column-salesChannels.name="{ item }">
                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
                {% block sw_mail_template_list_columns_sales_channels_label %}
                {{ getSalesChannelsString(item) }}
                {% endblock %}
            </template>

            <template #bulk-modal-delete-items>
                <sw-button
                    variant="danger"
                    size="small"
                    @click="onMultipleDelete"
                >
                    {{ $tc('global.default.delete') }}
                </sw-button>
            </template>

            <template #delete-modal-delete-item="{ item }">
                <sw-button
                    variant="danger"
                    size="small"
                    @click="onDelete(item)"
                >
                    {{ $tc('global.default.delete') }}
                </sw-button>
            </template>

            <template #more-actions="{ item }">
                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
                {% block sw_mail_header_footer_list_grid_columns_actions_duplicate %}
                <sw-context-menu-item
                    class="sw-mail-header-footer-list-grid__duplicate-action"
                    :disabled="!acl.can('mail_templates.creator')"
                    @click="onDuplicate(item.id)"
                >
                    {{ $tc('sw-mail-header-footer.list.contextMenuDuplicate') }}
                </sw-context-menu-item>
                {% endblock %}
            </template>
        </sw-entity-listing>
    </template>
    {% endblock %}

</sw-card>
{% endblock %}
