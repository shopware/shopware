<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
{% block sw_promotion_rule_select %}
<div class="sw-promotion-rule-select">
    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
    {% block a %}
    <sw-entity-many-to-many-select
        ref="ruleSelect"
        class="sw-promotion-rule-select"
        v-bind="$attrs"
        :entity-collection="collection"
        @change="onChange"
        v-on="$listeners"
    >

        <template #before-item-list>
            <!-- eslint-disable-next-line vuejs-accessibility/click-events-have-key-events -->
            <li
                class="sw-select-result sw-promotion-rule-select__add-new-rule"
                @click="showRuleModal = true"
            >
                {{ $tc('sw-promotion.swPromotionRuleSelect.labelAddNewRule') }}
            </li>
        </template>
    </sw-entity-many-to-many-select>
    {% endblock %}

    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
    {% block b %}
    <sw-rule-modal
        v-if="showRuleModal"
        :allowed-rule-scopes="ruleScope"
        @save="onSaveRule"
        @modal-close="showRuleModal = false"
    />
    {% endblock %}
</div>
{% endblock %}
