<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
{% block sw_settings_payment_sorting_modal %}
<sw-modal
    class="sw-settings-payment-sorting-modal"
    :title="$tc('sw-settings-payment.sorting-modal.modalTitle')"
    @modal-close="closeModal"
>

    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
    {% block sw_settings_payment_sorting_modal_content %}
    <template #body>

        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
        {% block sw_settings_payment_sorting_modal_content_subtitle %}
        <div class="sw-modal__body sw-settings-payment-sorting-modal__subtitle">
            {{ $tc('sw-settings-payment.sorting-modal.subTitle') }}
        </div>
        {% endblock %}

        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
        {% block sw_settings_payment_sorting_modal_content_list %}
        <div class="sw-modal__body">
            <sw-sortable-list
                class="sw-settings-payment-sorting-modal__payment-method-list"
                :items="sortedPaymentMethods"
                :scroll-on-drag="true"
                :scroll-on-drag-conf="scrollOnDragConf"
                @itemsSorted="onSort"
            >
                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
                {% block sw_settings_payment_sorting_modal_content_payment_method %}
                <template #item="{ item: paymentMethod }">
                    <div
                        class="sw-settings-payment-sorting-modal__payment-method-list-item"
                        :class="!paymentMethod.active ? 'is--disabled' : ''"
                    >
                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
                        {% block sw_settings_payment_sorting_modal_content_payment_method_action %}
                        <sw-icon
                            class="sw-settings-payment-sorting-modal__payment-method-list-item__action"
                            name="regular-grip-vertical"
                        />
                        {% endblock %}
                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
                        {% block sw_settings_payment_sorting_modal_content_payment_method_icon %}
                        <img
                            v-if="isShopwareDefaultPaymentMethod(paymentMethod)"
                            class="sw-settings-payment-sorting-modal__payment-method-list-item__icon"
                            :src="'/administration/static/img/checkout/shopware_payment_method.svg' | asset"
                            alt=""
                        >
                        <sw-media-preview-v2
                            v-else
                            class="sw-settings-payment-sorting-modal__payment-method-list-item__icon"
                            :source="paymentMethod.media ? paymentMethod.media : null"
                        />
                        {% endblock %}
                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
                        {% block sw_settings_payment_sorting_modal_content_payment_method_name %}
                        <div class="sw-settings-payment-sorting-modal__payment-method-list-item__name">
                            {{ paymentMethod.translated.distinguishableName }}
                        </div>
                        {% endblock %}
                    </div>
                </template>
                {% endblock %}
            </sw-sortable-list>
        </div>
        {% endblock %}

    </template>
    {% endblock %}

    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
    {% block sw_settings_payment_sorting_modal_footer %}
    <template #modal-footer>

        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
        {% block sw_settings_payment_sorting_modal_footer_cancel_button %}
        <sw-button
            class="sw-settings-payment-sorting-modal__cancel-button"
            @click="closeModal"
        >
            {{ $tc('global.default.cancel') }}
        </sw-button>
        {% endblock %}

        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
        {% block sw_settings_payment_sorting_modal_footer_save_button %}
        <sw-button-process
            class="sw-settings-payment-sorting-modal__save-button"
            variant="primary"
            :is-loading="isSaving"
            :disabled="!acl.can('category.editor')"
            :process-success="false"
            @click="applyChanges"
        >
            {{ $tc('global.default.save') }}
        </sw-button-process>
        {% endblock %}

    </template>
    {% endblock %}

</sw-modal>
{% endblock %}
