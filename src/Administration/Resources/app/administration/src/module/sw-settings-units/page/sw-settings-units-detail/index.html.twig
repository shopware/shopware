<sw-page class="sw-settings-units">

    <template #smart-bar-actions>

        <sw-button-process
            class="sw-settings-units__create-action"
            variant="primary"
            :is-loading="isLoading"
            :process-success="isSaveSuccessful"
            :disabled="!acl.can('scale_unit.editor')"
            @click="onSave"
        >
            {{ $tc('global.default.save') }}
        </sw-button-process>

    </template>

    <template #language-switch>
        <sw-language-switch
            :disabled="unit === null || unit.isNew()"
            @on-change="onChangeLanguage"
        />
    </template>

    <template #content>
        <sw-card-view>
            <sw-card
                v-if="!isLoading"
                position-identifier="sw-settings-units-content"
            >
                <sw-text-field
                    {% if VUE3 %}
                    v-model:value="unit.name"
                    {% else %}
                    v-model="unit.name"
                    {% endif %}
                    :label="$tc('sw-settings-units.detail.fieldLabels.name')"
                    :error="unitNameError"
                    required
                />

                <sw-text-field
                    {% if VUE3 %}
                    v-model:value="unit.shortCode"
                    {% else %}
                    v-model="unit.shortCode"
                    {% endif %}
                    :label="$tc('sw-settings-units.detail.fieldLabels.shortCode')"
                    :error="unitShortCodeError"
                    required
                />
                <sw-custom-field-set-renderer
                    :entity="unit"
                    :sets="customFieldSets"
                    :disabled="!acl.can('unit.editor')"
                />
            </sw-card>

            <sw-skeleton v-else />
        </sw-card-view>
    </template>
</sw-page>
