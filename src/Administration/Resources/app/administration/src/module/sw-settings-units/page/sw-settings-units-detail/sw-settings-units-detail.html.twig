<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->
{% block sw_settings_units_detail %}
    <sw-page class="sw-settings-units">

        <template #smart-bar-actions>

            <sw-button-process
                class="sw-settings-units__create-action"
                variant="primary"
                :is-loading="isLoading"
                :process-success="isSaveSuccessful"
                :disabled="!acl.can('scale_unit.editor')"
                @click="onSave"
            >
                {{ $tc('global.default.save') }}
            </sw-button-process>

        </template>

        <template #language-switch>
            <sw-language-switch
                :disabled="unit === null || unit.isNew()"
                @on-change="onChangeLanguage"
            />
        </template>

        <template #content>
            <sw-card-view>
                <sw-card
                    v-if="!isLoading"
                    position-identifier="sw-settings-units-content"
                >
                    <sw-text-field
                        v-model:value="unit.name"
                        name="sw-field--unit-name"
                        :label="$tc('sw-settings-units.detail.fieldLabels.name')"
                        :error="unitNameError"
                        required
                    />

                    <sw-text-field
                        v-model:value="unit.shortCode"
                        name="sw-field--unit-shortCode"
                        :label="$tc('sw-settings-units.detail.fieldLabels.shortCode')"
                        :error="unitShortCodeError"
                        required
                    />
                    <sw-custom-field-set-renderer
                        :entity="unit"
                        :sets="customFieldSets"
                        :disabled="!acl.can('unit.editor')"
                    />
                </sw-card>

                <sw-skeleton v-else />
            </sw-card-view>
        </template>
    </sw-page>
{% endblock %}
