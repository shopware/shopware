// @deprecated tag:v6.5.0 - `scss/page/checkout/_cart-item-children.scss` is deprecated. Use `scss/component/_line-item.scss` instead.

.cart-item-children {
    background-color: $gray-100;
    width: 100%;
    margin: 0 4px;
    padding: 16px 16px 10px;
    order: 10;

    // @deprecated tag:v6.5.0 - Bootstrap v5 applies `flex-shrink: 0` to all direct `.row` children which causes clipping `.cart-item-children` element.
    @if feature('v6.5.0.0') {
        flex-shrink: initial;
    }

    // Dynamic indentation of nested line items
    @for $i from 1 through 10 {
        $margin: ($i + 0.5) * 18px;
        .nesting-level-#{$i} {
            margin-left: $margin;
        }
    }

    .cart-item-children-elements {
        padding: 0;
    }

    .cart-item-children-elements > .cart-item-children-element:first-of-type {
        padding: 20px 4px 0;
    }


    .cart-item-headline {
        padding: 0;
        font-weight: $font-weight-semibold;
    }

    .cart-item-change-button {
        width: fit-content;
        margin: 0 12px;
        font-size: 12px;
        text-decoration: underline;
        background-color: transparent;
        border-style: none;

        &:focus {
            outline: none;
        }
    }

    .cart-item-collapse {
        margin: 0;
    }

    .cart-item-collapse-container,
    .cart-item-child-label {
        padding: 0;
    }

    // @deprecated tag:v6.5.0 - Bootstrap v5 removes relative position on `col-` elements.
    @if (feature('v6.5.0.0')) {
        .cart-item-child-label {
            position: relative;
        }
    }

    .cart-item-collapse-icon-container {
        padding: 0;
        text-align: right;
    }

    .cart-item-collapse-button,
    .cart-item-child-remove-icon {
        background-color: transparent;
        border-style: none;

        &:focus {
            outline: none;
        }
    }

    .cart-item-collapse-button > .cart-item-collapse-icon {
        transform: rotate(180deg);
        transition: all 0.2s ease-out;
    }

    .cart-item-collapse-button.collapsed > .cart-item-collapse-icon {
        transform: rotate(0deg);
    }

    .cart-item-children-element {
        margin: 0;
        padding: 8px 4px 0;
    }

    .cart-item-children-element > .nesting-level-0 {
        list-style: none;
    }

    .cart-item-children-element:last-child,
    .cart-item-children-element-divider:last-child {
        border-style: none;
    }

    .cart-item-child-label-bullet {
        display: list-item;
    }

    .cart-item-child-total-price {
        padding: 0;
        text-align: right;
        font-weight: $font-weight-semibold;
    }

    .cart-item-child-remove-icon-container {
        padding: 0;
        text-align: right;
    }

    .cart-item-children-element-divider {
        border-top: 1px solid $sw-border-color;
        margin: $spacer-md 0;
    }
}

@include media-breakpoint-up(md) {
    .cart-item-children {
        margin-left: 96px;
    }
}

@include media-breakpoint-up(lg) {
    .cart-item-children {
        margin-left: 4px;
    }
}

@include media-breakpoint-up(xl) {
    .cart-item-children {
        margin-left: 96px;
    }
}
